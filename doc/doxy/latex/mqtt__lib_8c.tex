\hypertarget{mqtt__lib_8c}{}\doxysection{a9\+\_\+mqtt\+\_\+lib/src/mqtt\+\_\+lib.c File Reference}
\label{mqtt__lib_8c}\index{a9\_mqtt\_lib/src/mqtt\_lib.c@{a9\_mqtt\_lib/src/mqtt\_lib.c}}
{\ttfamily \#include \char`\"{}stdbool.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}stdint.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}stdio.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}string.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}api\+\_\+os.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}api\+\_\+debug.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}api\+\_\+event.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}api\+\_\+mqtt.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}api\+\_\+network.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}api\+\_\+socket.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}mqtt\+\_\+lib.\+h\char`\"{}}\newline
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{mqtt__lib_8c_a94b40a65bdff7d48c2071fa9e54d44fd}{Start\+Timer\+Publish}} (uint32\+\_\+t interval, MQTT\+\_\+\+Client\+\_\+t $\ast$client)
\item 
void \mbox{\hyperlink{mqtt__lib_8c_ae1b4a693d7d09ec9460528059e780ec2}{wait\+\_\+for\+\_\+network\+\_\+activation}} ()
\item 
MQTT\+\_\+\+Client\+\_\+t $\ast$ \mbox{\hyperlink{mqtt__lib_8c_a384477abcbbf9c75747f48b14c0f0d00}{mqtt\+\_\+ssl\+\_\+initialize}} (const char $\ast$client\+\_\+id, uint16\+\_\+t keep\+\_\+alive, bool clean\+\_\+session, const char $\ast$mqtt\+\_\+ca\+\_\+crt, const char $\ast$mqtt\+\_\+client\+\_\+crt, const char $\ast$mqtt\+\_\+client\+\_\+key, const char $\ast$broker\+\_\+hostname, uint16\+\_\+t broker\+\_\+port, MQTT\+\_\+\+Connection\+\_\+\+Callback\+\_\+t callback)
\begin{DoxyCompactList}\small\item\em Initialize MQTT with SSL verification. \end{DoxyCompactList}\item 
MQTT\+\_\+\+Client\+\_\+t $\ast$ \mbox{\hyperlink{mqtt__lib_8c_aa9eb54b084750944bf35cfd24997b8c2}{mqtt\+\_\+initialize}} (const char $\ast$client\+\_\+id, uint16\+\_\+t keep\+\_\+alive, bool clean\+\_\+session, const char $\ast$broker\+\_\+hostname, uint16\+\_\+t broker\+\_\+port, MQTT\+\_\+\+Connection\+\_\+\+Callback\+\_\+t callback)
\begin{DoxyCompactList}\small\item\em Initialize MQTT without SSL verification. \end{DoxyCompactList}\item 
MQTT\+\_\+\+Error\+\_\+t \mbox{\hyperlink{mqtt__lib_8c_a903df42911b81fa9f1420061c8dcef54}{publish\+\_\+mqtt}} (MQTT\+\_\+\+Client\+\_\+t $\ast$client, const char $\ast$topic, const void $\ast$payload, uint8\+\_\+t dup, uint8\+\_\+t qos, uint8\+\_\+t retain, MQTT\+\_\+\+Request\+\_\+\+Callback\+\_\+t callback, void $\ast$arg)
\begin{DoxyCompactList}\small\item\em Publish to an MQTT topic. \end{DoxyCompactList}\item 
MQTT\+\_\+\+Error\+\_\+t \mbox{\hyperlink{mqtt__lib_8c_ac32bfe6494d0eb8981949b575286bf63}{subscribe\+\_\+mqtt}} (MQTT\+\_\+\+Client\+\_\+t $\ast$client, const char $\ast$topic, uint8\+\_\+t qos, MQTT\+\_\+\+Request\+\_\+\+Callback\+\_\+t callback, void $\ast$arg)
\begin{DoxyCompactList}\small\item\em Subscribe to an MQTT topic. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{mqtt__lib_8c_aa9eb54b084750944bf35cfd24997b8c2}\label{mqtt__lib_8c_aa9eb54b084750944bf35cfd24997b8c2}} 
\index{mqtt\_lib.c@{mqtt\_lib.c}!mqtt\_initialize@{mqtt\_initialize}}
\index{mqtt\_initialize@{mqtt\_initialize}!mqtt\_lib.c@{mqtt\_lib.c}}
\doxysubsubsection{\texorpdfstring{mqtt\_initialize()}{mqtt\_initialize()}}
{\footnotesize\ttfamily MQTT\+\_\+\+Client\+\_\+t$\ast$ mqtt\+\_\+initialize (\begin{DoxyParamCaption}\item[{const char $\ast$}]{client\+\_\+id,  }\item[{uint16\+\_\+t}]{keep\+\_\+alive,  }\item[{bool}]{clean\+\_\+session,  }\item[{const char $\ast$}]{broker\+\_\+hostname,  }\item[{uint16\+\_\+t}]{broker\+\_\+port,  }\item[{MQTT\+\_\+\+Connection\+\_\+\+Callback\+\_\+t}]{callback }\end{DoxyParamCaption})}



Initialize MQTT without SSL verification. 


\begin{DoxyParams}{Parameters}
{\em client\+\_\+id} & Client ID of the thing \\
\hline
{\em keep\+\_\+alive} & Keep-\/alive interval in seconds \\
\hline
{\em clean\+\_\+session} & Boolean -\/ true or false \\
\hline
{\em broker\+\_\+hostname} & Complete broker hostname/\+IP \\
\hline
{\em broker\+\_\+port} & Broker port \\
\hline
{\em callback} & Callback function \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{mqtt__lib_8c_a384477abcbbf9c75747f48b14c0f0d00}\label{mqtt__lib_8c_a384477abcbbf9c75747f48b14c0f0d00}} 
\index{mqtt\_lib.c@{mqtt\_lib.c}!mqtt\_ssl\_initialize@{mqtt\_ssl\_initialize}}
\index{mqtt\_ssl\_initialize@{mqtt\_ssl\_initialize}!mqtt\_lib.c@{mqtt\_lib.c}}
\doxysubsubsection{\texorpdfstring{mqtt\_ssl\_initialize()}{mqtt\_ssl\_initialize()}}
{\footnotesize\ttfamily MQTT\+\_\+\+Client\+\_\+t$\ast$ mqtt\+\_\+ssl\+\_\+initialize (\begin{DoxyParamCaption}\item[{const char $\ast$}]{client\+\_\+id,  }\item[{uint16\+\_\+t}]{keep\+\_\+alive,  }\item[{bool}]{clean\+\_\+session,  }\item[{const char $\ast$}]{mqtt\+\_\+ca\+\_\+crt,  }\item[{const char $\ast$}]{mqtt\+\_\+client\+\_\+crt,  }\item[{const char $\ast$}]{mqtt\+\_\+client\+\_\+key,  }\item[{const char $\ast$}]{broker\+\_\+hostname,  }\item[{uint16\+\_\+t}]{broker\+\_\+port,  }\item[{MQTT\+\_\+\+Connection\+\_\+\+Callback\+\_\+t}]{callback }\end{DoxyParamCaption})}



Initialize MQTT with SSL verification. 


\begin{DoxyParams}{Parameters}
{\em client\+\_\+id} & Client ID of the thing \\
\hline
{\em keep\+\_\+alive} & Keep-\/alive interval in seconds \\
\hline
{\em clean\+\_\+session} & Boolean -\/ true or false \\
\hline
{\em mqtt\+\_\+ca\+\_\+crt} & CA root certificate \\
\hline
{\em mqtt\+\_\+client\+\_\+crt} & Client certificate \\
\hline
{\em mqtt\+\_\+client\+\_\+key} & Private Key \\
\hline
{\em broker\+\_\+hostname} & Complete broker hostname/\+IP \\
\hline
{\em broker\+\_\+port} & Broker port \\
\hline
{\em callback} & Callback function \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{mqtt__lib_8c_a903df42911b81fa9f1420061c8dcef54}\label{mqtt__lib_8c_a903df42911b81fa9f1420061c8dcef54}} 
\index{mqtt\_lib.c@{mqtt\_lib.c}!publish\_mqtt@{publish\_mqtt}}
\index{publish\_mqtt@{publish\_mqtt}!mqtt\_lib.c@{mqtt\_lib.c}}
\doxysubsubsection{\texorpdfstring{publish\_mqtt()}{publish\_mqtt()}}
{\footnotesize\ttfamily MQTT\+\_\+\+Error\+\_\+t publish\+\_\+mqtt (\begin{DoxyParamCaption}\item[{MQTT\+\_\+\+Client\+\_\+t $\ast$}]{client,  }\item[{const char $\ast$}]{topic,  }\item[{const void $\ast$}]{payload,  }\item[{uint8\+\_\+t}]{dup,  }\item[{uint8\+\_\+t}]{qos,  }\item[{uint8\+\_\+t}]{retain,  }\item[{MQTT\+\_\+\+Request\+\_\+\+Callback\+\_\+t}]{callback,  }\item[{void $\ast$}]{arg }\end{DoxyParamCaption})}



Publish to an MQTT topic. 


\begin{DoxyParams}{Parameters}
{\em client} & MQTT client object \\
\hline
{\em topic} & MQTT topic to publish to \\
\hline
{\em payload} & Message payload \\
\hline
{\em dup} & Indicating the number of sending repeats \\
\hline
{\em qos} & Quality of Service\+: 0,1,2 \\
\hline
{\em retain} & Retain message \\
\hline
{\em callback} & Callback function \\
\hline
{\em arg} & Callback function \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{mqtt__lib_8c_a94b40a65bdff7d48c2071fa9e54d44fd}\label{mqtt__lib_8c_a94b40a65bdff7d48c2071fa9e54d44fd}} 
\index{mqtt\_lib.c@{mqtt\_lib.c}!StartTimerPublish@{StartTimerPublish}}
\index{StartTimerPublish@{StartTimerPublish}!mqtt\_lib.c@{mqtt\_lib.c}}
\doxysubsubsection{\texorpdfstring{StartTimerPublish()}{StartTimerPublish()}}
{\footnotesize\ttfamily void Start\+Timer\+Publish (\begin{DoxyParamCaption}\item[{uint32\+\_\+t}]{interval,  }\item[{MQTT\+\_\+\+Client\+\_\+t $\ast$}]{client }\end{DoxyParamCaption})}

\mbox{\Hypertarget{mqtt__lib_8c_ac32bfe6494d0eb8981949b575286bf63}\label{mqtt__lib_8c_ac32bfe6494d0eb8981949b575286bf63}} 
\index{mqtt\_lib.c@{mqtt\_lib.c}!subscribe\_mqtt@{subscribe\_mqtt}}
\index{subscribe\_mqtt@{subscribe\_mqtt}!mqtt\_lib.c@{mqtt\_lib.c}}
\doxysubsubsection{\texorpdfstring{subscribe\_mqtt()}{subscribe\_mqtt()}}
{\footnotesize\ttfamily MQTT\+\_\+\+Error\+\_\+t subscribe\+\_\+mqtt (\begin{DoxyParamCaption}\item[{MQTT\+\_\+\+Client\+\_\+t $\ast$}]{client,  }\item[{const char $\ast$}]{topic,  }\item[{uint8\+\_\+t}]{qos,  }\item[{MQTT\+\_\+\+Request\+\_\+\+Callback\+\_\+t}]{callback,  }\item[{void $\ast$}]{arg }\end{DoxyParamCaption})}



Subscribe to an MQTT topic. 


\begin{DoxyParams}{Parameters}
{\em client} & MQTT client object \\
\hline
{\em topic} & MQTT topic to publish to \\
\hline
{\em qos} & Quality of Service\+: 0, 1, 2 \\
\hline
{\em callback} & Callback function \\
\hline
{\em arg} & Callback function \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{mqtt__lib_8c_ae1b4a693d7d09ec9460528059e780ec2}\label{mqtt__lib_8c_ae1b4a693d7d09ec9460528059e780ec2}} 
\index{mqtt\_lib.c@{mqtt\_lib.c}!wait\_for\_network\_activation@{wait\_for\_network\_activation}}
\index{wait\_for\_network\_activation@{wait\_for\_network\_activation}!mqtt\_lib.c@{mqtt\_lib.c}}
\doxysubsubsection{\texorpdfstring{wait\_for\_network\_activation()}{wait\_for\_network\_activation()}}
{\footnotesize\ttfamily void wait\+\_\+for\+\_\+network\+\_\+activation (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

